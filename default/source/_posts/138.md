---
title: DPlayer-node架设简易教程
tags:
  - DPlayer
  - Nodejs
  - 弹幕服务器
url: NaN.html
id: .nan
categories:
  - 前端
date: 2018-03-11 20:50:00
---

DPlayer-node架设简易教程

主要是给超级白的小白看的比如我 大佬请无视

首先需要一个服务器`↓`

[如何购买服务器](https://www.baidu.com/s?ie=utf-8&f=8&rsv_bp=1&rsv_idx=1&tn=baidu&wd=%E8%B4%AD%E4%B9%B0%E6%9C%8D%E5%8A%A1%E5%99%A8&oq=%25E8%25B4%25AD%25E4%25B9%25B0vps&rsv_pq=8877f4680002003e&rsv_t=e3926yG8M772Qvvt1k%2Fn88AYkspBnIYIVaWVWfEwUJ0sCduiwb0qAV2OVmQ&rqlang=cn&rsv_enter=1&inputT=1721&rsv_sug3=17&rsv_sug1=10&rsv_sug7=100&rsv_sug2=0&rsv_sug4=2379)

当然自己建一个也是可以的  
系统环境 Linux Ubuntu 16.04 （其他Ubuntu版本应该是大同小异）  
然后连接服务器 `↓`  
[如何连接服务器](https://www.baidu.com/s?ie=utf-8&f=3&rsv_bp=1&rsv_idx=1&tn=baidu&wd=%E8%BF%9E%E6%8E%A5Linux%E6%9C%8D%E5%8A%A1%E5%99%A8&oq=%25E8%25BF%259E%25E6%258E%25A5%25E6%259C%258D%25E5%258A%25A1%25E5%2599%25A8&rsv_pq=cb46edf90001e1fa&rsv_t=82c52s3D8oNb96ATaX3uKGlVFnH4lwVJhp6949V0sYMnxBmg5hZr01QAa74&rqlang=cn&rsv_enter=0&inputT=2996&rsv_sug3=48&rsv_sug1=33&rsv_sug7=100&prefixsug=%25E8%25BF%259E%25E6%258E%25A5Linux%25E6%259C%258D%25E5%258A%25A1%25E5%2599%25A8&rsp=0&rsv_sug4=3803)

准备工作
----

安装一些必要的组件，比如`文本编辑器`,`解压软件`  
安装`vim`

    apt install vim

安装`unzip`

    apt install unzip

Ubuntu 16.04 安装docker
---------------------

#### 管理员权限下使用以下命令

安装`Docker`

    apt install docker.io

安装`docker-compose`

    apt install docker-compose

#### 非管理员使用

更新

    sudo apt-get update

安装`docker`

    sudo apt-get install docker

安装`docker-compose`

    sudo apt-get install docker-compose

#### 下载源码包

wget下载

    wget https://github.com/MoePlayer/DPlayer-node/archive/master.zip

#### 解压

    unzip master.zip

#### 进入工作文件夹

    cd DPlayer-node-master

#### 建立 (root权限下)，如果报错可能是没有使用root执行命令

#### 或者配置文件 `docker-compose.yml` 中的版本需要由 `2.1` 改为 `2`

    docker-compose build

#### 等下载完毕后 拉取

    docker-compose pull

#### 前台运行 (关闭终端就会终止程序)

    docker-compose up

##### 后台运行需要加 `-d`

    docker-compose up -d

外网访问端口为`1207`，即在设置Dplayer的API链接的时候需要添加端口号

如：`https://ddns.menhood.wang:1207`(这个地址没用，我系统重装已经炸了)  
想去掉端口号可以用nginx反向代理一波，或者改docker-compose配置文件（不过估计会改文件的也不需要看这个教程……）