---
title: Hexo通过rsync免密码同步文章至VPS
tags:
  - hexo
  - rsync
  - vps
url: NaN.html
id: .nan
categories:
  - 计算机
  - 系统
  - 前端
date: 2018-03-19 16:49:00
---

Hexo通过rsync免密码同步文章至VPS

Hexo安装配置rsync插件
---------------

### 安装rsync

进入到hexo站点根目录，执行：

    npm install hexo-deployer-rsync --save

### 配置rsync

网站（根目录）配置文件`_config.yml`中，修改为以下参数,注意空格

    deploy:
      type: rsync
      host: 你 VPS 的 IP 地址或者域名
      user: root
      root: 你想将 Hexo 生成的静态文件存放在 VPS 中的目录 例如: /www/hexo/blog/
      port: 你 VPS 的 ssh 端口号
      delete: true
      verbose: true
      ignore_errors: false

下面是一份实例：

    deploy:
      type: rsync
      host: hexo.menhood.wang 
      user: root 
      root: /var/www/html/hexo
      port: 8888 
      delete: true 
      verbose: true 
      ignore_errors: false

注意：`如果推送失败，原因可能是远端服务器（VPS）未安装rsync`

配置ssh公钥实现免密码推送
--------------

### 本地生成密钥

`如果之前生成过密钥可以略过此步骤`

执行：

    ssh-keygen
    Enter passphrase (empty for no passphrase):
    Enter same passphrase again:

停住提示时输入密码直接敲回车默认为空，省事

### 配置密钥到远端（VPS）上

    ssh-copy-id -i ~/.ssh/id_rsa.pub -p 8888 root@hexo.menhood.wang

`-p`是用来指定端口的，一般服务商会更改端口保障服务器安全 改为服务商提供的ssh端口即可，或自己另开端口，指定用户